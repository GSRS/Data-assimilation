SWAT-HDAS version 1.0
developer: Ying Zhang,Chunlin Huang. email:hexiayouxi@126.com  web site:http://hexiayouxi.tk/
system requirement:
Unix envrionment,e.g. Linux. we test it on CentOS system successfully.
software requirement:
netcdf library, gfortran compiler
space requirement:
5G space

folder description:
  /swatallop:: babaohe river basin swatda project 
  /wrf      :: babaohe river basin forcing data with 500m resolution
  /da       :: GSWATDA code

First you need prepare SWATGP project.
Guidance for SWATGP applicaiton. 

1)File and data prepare:
  SWAT project is needed in this test. we set up a SWAT project using GIS software (e.g. ArcSWAT, QSWAT,MWSWAT) to produce general files (file.cio, fig.fig,*.sub,*.hru,*.rch,*.gw,*.chm,*.mgt,*.ops,*.sep,*.sol,*.rte,*.pnd,*.swq,*,wgn,*,wus) for SWATGP.


2)prepare your grid forcing data (*.nc)
  you can generate your own forcing data correspond to the variable name "precipitation" for rainfall, "temp" for air temperature.
  the name formate you can set as "heihe500mday"+year+julian day+".nc".For example: heihe500mday2008091.nc
  In test, the ensemble precipitation data is generated by introducing multiplicative Gaussian errors within the program. 
  Ensemble temperature data is generated by introducing additive Gaussian errors with reading noise files tempnoise subroutine within the program. 
  noise files can be generated by using R spatestate package. 
  
3) prepare your grid parameter data (*.txt)
soil parameter files:
  sol_alb1.txt  sol_bd2.txt    sol_cnb1.txt  sol_k2.txt     sol_sand2.txt
  sol_alb2.txt  sol_cbn2.txt   sol_ec1.txt   sol_rock1.txt  sol_silt1.txt
  sol_awc1.txt  sol_clay1.txt  sol_ec2.txt   sol_rock2.txt  sol_usle_k1.txt
  sol_bd1.txt   sol_clay2.txt  sol_k1.txt    sol_sand1.txt  sol_usle_k2.txt 
  cn2.txt hydgrp.txt 
topology parameter files:
  dem.txt hru_slp.txt  slsub.txt ov_n.txt  
  flow.txt :: D8 flow direction file. We generate it using ArcGIS surface flow dirction tool.
vegetation parameter file:
  idplt.txt :: the land use type code correspondent to crop.dat
geospatial indice files:
  subid.txt :: subbasin number grid file. We generate it using convertion tool to convert shap subbasin file to grid image and then to grid ascii file. 

4)modify "file.cio" file for model set up. 
the 1th line is the number of soil layers.
the 8th line is column number.
the 9th line is line number.
the 10th line is netcdf format forcing data folder name .
the 15th line is the number of ensemble simulatio you want. For simple modelling, this is 1.
the 37th line is the resolution of your model, you must math grid forcing data and grid parameter data with this resolution. 


5)calibration:
  a.you can calibrate SWAT first to get calibrate paramter data using SWAT-CUP or other sofware(e.g. QGIS). 
  b.you can calibrate SWATGP with grid formate parameter files. 
  we calibrate SWAT or SWATGP using hydro-PSO R package.(see http://www.rforge.net/hydroPSO/)

6)executive program:
swatall          ::sm-sn-rt combined assimilation
swatallsm        ::sm assimilation 
swatdasnow       ::sn assimilation
swatsmrt         ::sm-rt assimilation
swatsmsn         ::sm-sn assimilation 
swatallop        ::open loop simulation
swatallrt        ::discharge assimilation (19 obs)
swatallrt1od     ::ds-1 rt assimilation
swatallrt12o     ::us-12 rt assimilation
swatallrt1o      ::us-1 rt assimilation
swatallrt1om     ::ms-1 rt assimilation
swatallrt6o      ::us-6 rt assimilaiton
swatallrt6od     ::ds-6 rt assimilation
swatallrt6om     ::ms-6 rt assimilation
swatsnrt         ::sn-rt assimilation
swatrt1          ::us-18 assimilation




7)output files:
"01" refer 1th ensemble simulation. "001" refer day number."*01.txt","*02.txt" refer 1th soil layer and 2th soil layer.
including bank storage, reach storage, canopy storage, latq, three layer and profile soil moisture£¬ shallow aquifer, deep aquifer, ground water table hight and flow, precipitation, snow water equivalent, snow temperature, three layer crack volume. 
daily scale:
the 1th emsemble:
01001bankstorf.txt  01001shallstf.txt   01001sol_stf08.txt  01001volcrf05.txt
01001canstorf.txt   01001sno_hruf.txt   01001sol_stf09.txt  01001volcrf06.txt
01001snotmp1f.txt   01001sol_stf10.txt  01001volcrf07.txt
01001cn22f.txt      01001sol_stf01.txt  01001sol_stf11.txt  01001volcrf08.txt
01001deepstf.txt    01001sol_stf02.txt  01001sol_swf.txt    01001volcrf09.txt
01001gwhtf.txt      01001sol_stf03.txt  01001subp2f.txt     01001volcrf10.txt
01001gw_qf.txt      01001sol_stf04.txt  01001volcrf01.txt   01001volcrf11.txt
01001latqf.txt      01001sol_stf05.txt  01001volcrf02.txt   01001volcrf.txt
01001rchstorf.txt   01001sol_stf06.txt  01001volcrf03.txt
01001sol_stf07.txt  01001volcrf04.txt


average ensmeble£º
subp*.txt 
surfq*.txt
sw*.txt
sol_st*.txt
latq*.txt
gwq*.txt
etday*.txt

annual scale:
etyear.txt   precyear.txt  
gwqyear.txt  latqyear.txt  surfqyear.txt




